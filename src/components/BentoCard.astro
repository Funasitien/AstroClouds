---
import { Icon } from 'astro-icon/components'
import { parse } from 'url'

const { icon = "mingcute:information-fill", url, title = "Titre", description = "Je crois que je suis une description, à vérifier.", grid = "col-span-2 row-span-2" } = Astro.props;

// Extract the domain name from the provided URL
const domain = url ? parse(url).hostname : '';

// Define a custom class based on the domain name
let customClass = '';
if (domain === 'github.com') {
  customClass = 'github';
} else if (domain === 'youtube.com') {
  customClass = 'bg-red-400';
} else if (domain === 'discord.com') {
  customClass = 'bg-indigo-400';
} else if (domain === 'soundcloud.com') {
  customClass = 'bg-orange-400';
} else if (domain === 'twitch.tv') {
  customClass = 'bg-violet-400';
} else {
  customClass = 'bg-base-200 border-neutral'
}


---

<div class:list={['card border shadow-xl', customClass, grid]}>
  <div class="card-body px-6 pt-6">
    <h2 class="flex card-title"><Icon name={ icon } /> { title }</h2>
    <p>{ description }</p>
  </div>
</div>